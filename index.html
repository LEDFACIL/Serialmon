<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serial Monitor Online</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ’» Serial Monitor Online</h1>
            <p>Vincula tu sistema directamente desde el navegador</p>            
        </header>

        <div class="connection-panel">
            <div id="status" class="status disconnected">
                <span class="status-icon">ğŸ”´</span>
                <span class="status-text">Desconectado</span>
            </div>
            
            <div class="controls">
                <button id="connectBtn" class="btn btn-primary">ğŸ”— Conectar Puerto Serial</button>
                
                <div class="baudrate-container" style="display: flex; gap: 10px; align-items: center;">
                    <select id="baudrate" class="select" style="min-width: 140px;">
                        <option value="300">300 baud</option>
                        <option value="1200">1200 baud</option>
                        <option value="2400">2400 baud</option>
                        <option value="4800">4800 baud</option>
                        <option value="9600">9600 baud</option>
                        <option value="14400">14400 baud</option>
                        <option value="19200">19200 baud</option>
                        <option value="28800">28800 baud</option>
                        <option value="38400">38400 baud</option>
                        <option value="57600">57600 baud</option>
                        <option value="115200" selected>115200 baud</option>
                        <option value="230400">230400 baud</option>
                        <option value="460800">460800 baud</option>
                        <option value="921600">921600 baud</option>
                        <option value="custom">Personalizado...</option>
                    </select>
                    
                    <div id="customBaudrateContainer" style="display: none;">
                        <input type="number" id="customBaudrate" class="select" 
                               placeholder="Ej: 250000" min="300" max="4000000" 
                               style="width: 120px; padding: 11px;">
                        <span style="white-space: nowrap;">baud</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="terminal-container">
            <div class="terminal-header">
                <div class="terminal-header-left">
                    <span>Terminal</span>
                </div>
                <div class="terminal-header-right">
                    <button id="toggleTimestampBtn" class="btn btn-small" title="Alternar timestamp">ğŸ• Ocultar TS</button>
                    <button id="toggleScrollBtn" class="btn btn-small" title="Alternar scroll automÃ¡tico">â¸ï¸ Pausar Scroll</button>
                    <button id="clearBtn" class="btn btn-small">ğŸ—‘ï¸ Limpiar</button>
                </div>
            </div>
            <div id="terminal" class="terminal"></div>
        </div>

        <div class="input-container">
            <input type="text" id="commandInput" placeholder="Enviar comando? ..." disabled>
            <button id="sendBtn" class="btn btn-primary" disabled>ğŸ“¤ Enviar</button>
        </div>

        <div class="help-section">
            <details>
                <summary>ğŸ’¡ Instrucciones de uso</summary>
                <ol>
                    <li>Conecta tu sistema via USB</li>
                    <li>Haz clic en "Conectar Puerto Serial"</li>
                    <li>Selecciona el puerto de tu sistema en el diÃ¡logo</li>
                    <li>Selecciona la velocidad de baudrate o escribe un valor personalizado</li>
                    <li>Usa el botÃ³n "Ocultar TS" / "Mostrar TS" para alternar la visualizaciÃ³n del timestamp</li>
                    <li>Usa el botÃ³n "Pausar Scroll" / "Activar Scroll" para controlar el movimiento automÃ¡tico del scroll</li>     
                    <li>Usa el botÃ³n "Limpiar" para borrar pantalla</li>  
                </ol>
                <p><strong>Baudrates comunes:</strong> 300, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200, 230400, 460800, 921600</p>
                <p><strong>Requisitos:</strong> Chrome/Brave/Opera/Edge 89+ en Windows/Mac/Linux</p>
            </details>
        </div>

        <!-- Pie de pÃ¡gina dentro del contenedor -->
        <footer class="footer">
            Â©<span id="year"></span> Serial Monitor Online By 
            <a href="https://lasso-tech.com/">Lasso-Tech</a> / GitHub <a href="https://github.com/LEDFACIL/Serialmon">repo...</a>
        </footer>
    </div>

    <script src="serial.js"></script>

    <script>
        // AÃ±o automÃ¡tico
        document.getElementById("year").textContent = new Date().getFullYear();
    </script>
</body>
</html>
